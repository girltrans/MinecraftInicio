<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Minecraft - Editar Skin</title>
    
    <meta name="description" content="Crie e edite suas próprias skins de Minecraft diretamente no seu navegador, a partir do zero ou modificando skins existentes.">
    <meta name="keywords" content="minecraft, skin editor, skin creator, editor de skin, criar skin">
    <meta name="author" content="Seu Nome ou Nome do Site">
    <meta name="format-detection" content="telephone=no">
    
    <link rel="icon" type="image/x-icon" href="images/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Open+Sans&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="css2/jgrowl.css">
    <link href="css2/styles.css" rel="stylesheet" type="text/css">
    <link href="css2/styles_mike.css" rel="stylesheet" type="text/css">
    <link href="css2/bootstrap_modal.css" rel="stylesheet" type="text/css">
    <link href="css2/select2.css" rel="stylesheet" type="text/css">
    <link href="css2/styles-min3.css" rel="stylesheet" type="text/css">
    <link href="css2/farbtastic.css" rel="stylesheet" type="text/css">
    <link href="css2/fonts.css" rel="stylesheet" type="text/css">

    <style>
        /* Estilo base para o corpo da página */
        body {
            background-size: cover;
            color: #f7f7fa;
            font-family: 'Open Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Correção para o link do GitHub ser mais discreto e não atrapalhar */
        a.github {
            position: fixed;
            width: 40px;
            height: 40px;
            z-index: 1000;
            right: 10px;
            top: 60px; /* Abaixo do header fixo */
        }

        .github img {
            width: 100%;
            height: 100%;
            filter: invert(1);
            opacity: .3;
        }

        /* Garante que o conteúdo principal ocupe o espaço disponível */
        .content {
            flex-grow: 1;
        }

        /* Media Query para telas menores (celulares e tablets) */
        @media (max-width: 1024px) {
            /* Remove as larguras fixas dos contêineres principais,
               permitindo que eles se ajustem à tela.
            */
            .wrapper, .header, .footer, .header-wrapper, .footer-wrapper, .content-wrapper {
                width: 100% !important;
                min-width: unset !important;
                padding-left: 15px;
                padding-right: 15px;
                box-sizing: border-box; /* Garante que o padding não aumente a largura total */
            }

            /* Esconde as propagandas laterais que não cabem na tela */
            .left-ads, .right-ads {
                display: none;
            }

            /* Centraliza o menu de navegação e permite que ele quebre a linha */
            .navbar {
                flex-wrap: wrap;
                height: auto;
                padding: 1rem;
            }
            
            h1 {
                font-size: 2rem; /* Diminui um pouco o título principal em telas menores */
            }

            /* Ajustes no editor de skin para caber na tela */
            .avatar-creator {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            
            .left-toolbar, .right-toolbar {
                position: static;
                width: 100%;
                float: none;
                margin-top: 20px;
            }

            .left-toolbar-mobile {
                display: block; /* Garante que as ferramentas mobile apareçam */
            }

            .left-toolbar {
                display: none; /* Esconde as ferramentas de desktop */
            }
            
            .color-picker {
                margin: 20px auto;
                top: 0;
            }

            #editor {
                width: 100%;
                margin: 0;
            }
        }
    </style>
</head>

<body>
    <a rel="nofollow" href="https://github.com/girltrans" target="_blank" title="GitHub Repositório" class="github">
        <img src="./icons/github.png" alt="GitHub Icon" title="GitHub">
    </a>
    
    <header class="header">
        <div class="header-wrapper">
            <nav class="navbar">
                <a href="https://24082004.vercel.app" style="display: flex; align-items: center; text-decoration: none;">
                    <img src="images/favicon.png" alt="Favicon Logo" style="width: 3.2rem; height: 3.2rem;">
                    <span style="font-family: 'Righteous', cursive; font-weight: 700; font-size: 1.9rem; color: #e8b901; margin-left: 0.6rem;">Início</span>
                </a>
                <a href="./index2.html" style="color: #8B1616; font-family: 'Righteous', cursive; font-size: 1.2rem; text-decoration: none;">Verificar Nicks</a>
                <b><a href="./index.html" style="color: #e8b901; font-family: 'Righteous', cursive; font-size: 1.2rem; text-decoration: none;">Testar Skin e Capa</a></b>
                <a href="./index3.html" style="color: #8B1616; font-family: 'Righteous', cursive; font-size: 1.2rem; text-decoration: none;">Editar Skin</a>
            </nav>
        </div>
    </header>

    <div class="wrapper">
        <div class="content">
            <h1 style="text-align:center; color:#8B1616; margin-top:2rem; font-family: 'Righteous', cursive; font-size:2.4rem;">Editar Skin</h1>
            <div style="text-align: center; color:#8B1616; margin-top:2rem; font-family: 'Righteous', cursive;">
                <p style="font-size: 2.4rem; color: #8B1616; margin-top: 5px;">↓ Aviso ↓</p>
                <p style="font-size: 0.8rem; color: #e8b901; margin-top: 5px;">
                    A Skin É Salva Sempre Que o Usuário Sair ou Recarregar a Página.
                </p>
            </div>
            
            <div class="avatar-creator clearfix">
                <div id="toolbox"></div>

                <div class="slide-leftbar"><i class="icon-pencil"></i></div>
                <div class="slide-rightbar"><i class="icon-settings"></i></div>

                <div class="left-toolbar">
                    <a href="javascript:void(0);" class="tools active" id="colorholder_chose" title="Lápis (p)"><i class="icon-pencil"></i></a>
                    <a href="javascript:void(0);" id="erasepixel" class="tools" title="Borracha (e)"><i class="icon-erase"></i></a>
                    <a href="javascript:void(0);" id="autotone" class="tools" title="Tom Automático (a)"><i class="icon-brush"></i></a>
                    <a href="javascript:void(0);" id="pickcolor" class="tools" title="Seleção De Cores (c)"><i class="icon-pipet"></i></a>
                    <a href="javascript:void(0);" id="bucket" class="tools" title="Balde (b)"><i class="icon-bucket"></i></a>
                    <a href="javascript:void(0);" id="undo" class="tools w50" style="float:left;margin-right:4px;" title="Voltar (u)"><i class="icon-undo"></i></a>
                    <a href="javascript:void(0);" id="redo" class="tools w50" title="Refazer (r)"><i class="icon-redo"></i></a>
                    <a href="javascript:void(0);" id="darker" class="tools w50" style="float:left;margin-right:4px;margin-top:-2px;" title="Escurecer a Cor (z)"><i class="icon-brush-plus"></i></a>
                    <a href="javascript:void(0);" id="lighter" class="tools w50" style="margin-top:-2px;" title="Clarear a Cor (x)"><i class="icon-brush-minus"></i></a>
                    <a href="javascript:void(0);" id="zoom-in" class="tools w50 zoom-in" title="Aumentar o Zoom (q)"><i class="icon-zoom-in"></i></a>
                    <a href="javascript:void(0);" id="zoom-out" class="tool#s w50 zoom-out" title="Diminuir o Zoom (w)"><i class="icon-zoom-out"></i></a>
                    <a href="javascript:void(0);" id="mirrorTool" class="tools" style="margin-top:-2px;" title="Espelho Ligado/Desligado (m)"><i class="icon-skin"></i></a>
                    <div id="reset" class="reset" title="Limpar Skin"><button class="btn" style="width:90px;">Limpar</button></div>
                </div>

                <div class="left-toolbar-mobile">
                    <div class="tools-wrapper clearfix">
                        <a href="javascript:void(0);" id="mirrorTool" class="tools" title="Espelho Ligado/Desligado (m)"><i class="icon-skin"></i></a>
                        <a href="javascript:void(0);" class="tools active" id="colorholder_chose" title="Lápis (p)"><i class="icon-pencil"></i></a>
                        <a href="javascript:void(0);" id="erasepixel" class="tools" title="Borracha (e)"><i class="icon-erase"></i></a>
                        <a href="javascript:void(0);" id="autotone" class="tools" title="Tom Automático (a)"><i class="icon-brush"></i></a>
                        <a href="javascript:void(0);" id="pickcolor" class="tools" title="Seleção De Cores (c)"><i class="icon-pipet"></i></a>
                        <a href="javascript:void(0);" id="zoom-in" class="tools w50 zoom-in" title="Aumentar o Zoom (q)"><i class="icon-zoom-in"></i></a>
                        <a href="javascript:void(0);" id="bucket" class="tools" title="Balde (b)"><i class="icon-bucket"></i></a>
                        <a href="javascript:void(0);" id="undo" class="tools w50" title="Voltar (u)"><i class="icon-undo"></i></a>
                        <a href="javascript:void(0);" id="redo" class="tools w50" title="Refazer (r)"><i class="icon-redo"></i></a>
                        <a href="javascript:void(0);" id="darker" class="tools w50" title="Escurecer a Cor (z)"><i class="icon-brush-plus"></i></a>
                        <a href="javascript:void(0);" id="lighter" class="tools w50" title="Clarear a Cor (x)"><i class="icon-brush-minus"></i></a>
                        <a href="javascript:void(0);" id="zoom-out" class="tools zoom-out" title="Diminuir o Zoom (w)"><i class="icon-zoom-out"></i></a>
                        <div id="reset" class="reset" title="Limpar Skin"><button class="btn" style="width:90px;">Limpar</button></div>
                    </div>
                    <div class="button-wrapper clearfix">
                        <div class="skin-body-overlay"><span class="body-overlay-span">Corpo</span><div class="skin-body-overlay-content"><div class="mobile-right-toggles"></div></div></div>
                        <div class="skin-tools-mobile-wrapper"><div class="skin-tools mobile"><div class="selects mobile"><select id="pxs_mobile" name="pxs"><option value="4px">Longa Steve (4px)</option><option value="3px">Alex  Fina (3px)</option></select></div></div></div>
                    </div>
                </div>

                <div class="canvas-wrapper">
                    <div class="skin-canvas mobile"><div id="editor"></div></div>
                </div>

                <div class="right-toolbar">
                    <div class="color-picker">
                        <br>
                        <div id="colorpicker"></div>
                        <form><span id="colorSpan" style="visibility: visible;"><input type="text" id="color" name="color" value="#000000"></span></form>
                    </div>
                    <div class="right-toggles"></div>
                    <div class="skin-tools">
                        <div class="selects"><select id="pxs" name="pxs"><option value="4px">Longa Steve (4px)</option><option value="3px">Fina Alex (3px)</option></select></div>
                    </div>
                    <div class="right-btns clearfix">
                        <a id="botaoBaixarSkin" title="Baixar Skin"><i class="icon-download"></i></a>
                        <a href="javascript:void(0);" class="editor_btn3new" data-assert="20"><i class="icon-upload-comp" title="Carregar Skin"></i></a>
                        <div class="downloadError" style="display:none;color:red;padding-left:3px;"></div>
                        <div class="uploadError" style="display:none;color:red;padding-left:3px;">Imagem Inválida.</div>
                    </div>
                </div>
            </div>
            
        </div> </div> <footer class="footer">
        </footer>
    
    <div id="hideBlock" style="display:none;"></div>
    <div id="lt" style="height:1px;width:1px;display:none;z-index:999999;"></div>
    <form style="visibility: hidden;" action="" method="POST" id="downloadForm" target="_blank">
        <input type="hidden" id="imageVal" name="imageVal" value="">
    </form>
    <form style="visibility: hidden;" action="/upload/" method="POST" id="skinUploadToSiteForm">
        <input type="hidden" id="imageEditor" name="imageEditor" value="">
        <input type="hidden" id="imageEditorPreset" name="imageEditorPreset" value="">
        <input type="hidden" id="imageEditorPresetSelected" name="imageEditorPresetSelected" value="">
    </form>
    <div id="showSkin" style="display:none;">
        <canvas class="skin" id="skin" width="64" height="32"></canvas>
        <canvas class="uploadCanvas" id="uploadCanvas" width="64" height="64"></canvas>
        <canvas class="skin" id="skinMap" width="512" height="256" style="width: 64px; height: 32px;"></canvas>
        <span id="hideSkin" style="display:none">◳</span>
    </div>

    <script src="js2/jquery-1.11.3.min.js"></script>
    <script src="js2/mobile-detect.min.js"></script>
    <script src="js2/lazysizes.min.js"></script>
    <script src="js2/mobile-menu.js"></script>
    <script>
    $(document).ready(function() {
        function isCanvasBlank(canvas) {
            const blank = document.createElement('canvas');
            blank.width = canvas.width;
            blank.height = canvas.height;
            return canvas.toDataURL() === blank.toDataURL();
        }

        const erroDownload = $('.downloadError');
        erroDownload.hide();

        $('#botaoBaixarSkin').on('click', function(event) {
            event.preventDefault();
            event.stopPropagation();

            const editorCanvas = $('#uploadCanvas')[0];

            if (isCanvasBlank(editorCanvas)) {
                erroDownload.text('Nenhuma Skin Criada.').show();
                setTimeout(function() { erroDownload.hide(); }, 3000);
            } else {
                erroDownload.hide();
                try {
                    const link = document.createElement('a');
                    link.download = 'minha_skin.png';
                    link.href = editorCanvas.toDataURL('image/png');
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } catch (err) {
                    console.error("Erro ao tentar baixar a skin:", err);
                    erroDownload.text('Erro ao baixar a skin.').show();
                    setTimeout(function() { erroDownload.hide(); }, 3000);
                }
            }
        });
    });
    </script>
</body>
</html>
